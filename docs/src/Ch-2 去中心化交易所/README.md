# Ch-2 去中心化交易所

去中心化交易所（Decentralized Exchange, a.k.a., Dex）是 DeFi 生态中占据绝对中心地位的产品，
它提供了诸如预言机，链上流动性等基础设施，不仅为人类提供了无许可的交易功能，也为其它 DeFi 产品提供了可供交互的接口，并成为了成千上万的自动机器人提供了套利交易的场所，为黑客提供了最终套现离场的手段w。

在上一章节的末尾[^1]所出现的担保交易合约，就可以看作是最简单的去中心化交易所的例子。
它由许多的独立的、未经排序的订单簿组成，并且是点对点的。
和那个例子不同，本章中我们所看到的 Dex 合约几乎都是基于自动化做市商（Automated market maker, a.k.a., AMM）、点对协议的。
而其中扮演核心角色的就是定价曲线与可分润代币技术。

我们将从一个简单但有趣的例子 P3D 合约开始，介绍这两个技术的一般思想和使用方法，并在之后的篇幅中，考察目前以太坊生态中最重要的两个 Dex 协议 —— Uniswap 和 Curve。

值得注意的是，坊间依然有许多其它形态的、甚至基于订单薄的 Dex 存在。并且随着以太坊 PoS 的完成以及各类 Layer2 方案的成熟，这些旧的 Dex 会不会焕发新生，又会不会有新的 Dex 从中脱颖而出？这些问题我们将在本章的最后进行讨论。

[^1]: 什么？你跳过了习题？